---
interface Props {
  note: string;
  position?: 'right' | 'left';
}
const { note, position = 'right' } = Astro.props;
---

<aside class:list={["margin-note", `margin-note--${position}`]}>
  <div class="note-content">
    <svg class="arrow-svg" viewBox="0 0 24 24" aria-hidden="true">
      <path 
        d="M4 12 C 8 10, 12 8, 20 6" 
        fill="none" 
        stroke="currentColor" 
        stroke-width="1.5"
        stroke-linecap="round"
      />
      <path 
        d="M16 4 L 20 6 L 17 10" 
        fill="none" 
        stroke="currentColor" 
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    </svg>
    <p class="note-text">{note}</p>
  </div>
</aside>

<style>
  .margin-note {
    position: absolute;
    width: 200px;
    color: var(--color-ink-blue);
  }
  
  .margin-note--right {
    right: -240px;
  }
  
  .margin-note--left {
    left: -240px;
    text-align: right;
  }
  
  .note-content {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }
  
  .arrow-svg {
    width: 24px;
    height: 24px;
    transform: rotate(-30deg);
  }
  
  .margin-note--left .arrow-svg {
    transform: rotate(30deg) scaleX(-1);
    align-self: flex-end;
  }
  
  .note-text {
    font-family: var(--font-hand);
    font-size: 1.15rem;
    line-height: 1.4;
    margin: 0;
  }
  
  @media (max-width: 1280px) {
    .margin-note {
      position: relative;
      right: auto;
      left: auto;
      width: 100%;
      padding: 1rem;
      margin: 1rem 0;
      border-left: 2px solid var(--color-ink-blue);
      background: rgba(0, 103, 222, 0.05);
    }
    
    .arrow-svg {
      display: none;
    }
  }
</style>
